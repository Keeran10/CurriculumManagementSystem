<body class="hg">
  <header class="hg__header">
    <app-top-nav-bar></app-top-nav-bar>
  </header>
  <main class="hg__main">
    <mat-card class="matCardBackground">


      <div class="container">

        <mat-card>
          <mat-card-header>
            <h1 class="title">Edit Section Page</h1>
          </mat-card-header><br>
          <form class="edit-form">
            <mat-form-field class="row1">
              <input matInput placeholder="Section Id" spellcheck="true" [(ngModel)]="sectionEditable.sectionId"
                name="sectionId">
            </mat-form-field>
            <mat-form-field class="row2">
              <input matInput placeholder="Section title" spellcheck="true" [(ngModel)]="sectionEditable.sectionTitle"
                name="sectionTitle">
            </mat-form-field>
            <mat-form-field class="row3">
              <textarea matInput placeholder="First Paragraph" [(ngModel)]="sectionEditable.firstParagraph"
                spellcheck="true" name="firstParagraph"></textarea>
            </mat-form-field>
            <mat-form-field class="row4">
              <textarea matInput placeholder="First Core" [(ngModel)]="sectionEditable.firstCore" spellcheck="true"
                name="firstCore"></textarea>
            </mat-form-field>
            <mat-form-field class="row5">
              <textarea matInput placeholder="Second Core" [(ngModel)]="sectionEditable.secondCore" spellcheck="true"
                name="secondCore"></textarea>
            </mat-form-field>
            <mat-form-field class="row6">
              <textarea matInput placeholder="Rationale" spellcheck="true" [(ngModel)]="editedExtraModel.rationale"
                name="rationale"></textarea>
            </mat-form-field>
            <mat-form-field class="row7">
              <textarea matInput placeholder="Resource Implications" spellcheck="true"
                [(ngModel)]="editedExtraModel.implications" name="implications"></textarea>
            </mat-form-field>
          </form>

          <table class="leftTable">
            <tbody>
            <tr>

              <div class="row8" *ngIf="isDoneLoading">
                <div *ngFor="let c of printedCourses; let i = index">
                  <br class="courseLinks">
                  <span class="link" (click)="navigateToEditFormEdited(courseIds[2*i], courseIds[2*i+1])">
                    <td class="courseNumberLeft">{{ c.name }} {{c.number}}</td>
                    <td class="courseTitle"> {{c.title}}</td>
                    <td class="courseCredits">{{c.credits.toFixed(2)}} </td> </span>
                </div>
              </div>
            </tr>
            </tbody>
          </table>

        </mat-card>

          <mat-card class="edited-tex">
            <!-- Section and title -->
            <span>
              <b>
                <span style="display: inline-block" semanticDiff [left]="sectionOriginal.sectionId"
                  [right]="sectionOriginal.sectionId"></span>&nbsp;
                <b>
                  <span style="display: inline-block" semanticDiff [left]="sectionOriginal.sectionTitle"
                    [right]="sectionEditable.sectionTitle"></span> <br>
                </b>
              </b>
            </span>
            <br>

            <!-- paragraph description -->
            <span>
              <span style="display: inline-block" semanticDiff [left]="sectionOriginal.firstParagraph"
                [right]="sectionEditable.firstParagraph"></span><br><br>

              <!-- first core -->

              <b>
                <span style="display: inline-block">
                  <span style="display: inline-block" semanticDiff [left]="sectionOriginal.firstCore"
                    [right]="sectionEditable.firstCore"></span>
                </span> (30.5 Credits) </b>
              <br>
              See&nbsp;<span class="fake-link">&#167;71.20.5</span><br><br>

              <!-- second core -->


              <!-- course list -->

                <table>
                  <tbody>
                   <tr>
                      <th width="100%"> <b>
                <span style="display: inline-block">
                  <span style="display: inline-block" semanticDiff [left]="sectionOriginal.secondCore"
                        [right]="sectionEditable.secondCore">
                  </span>
                </span>
              </b>
                      <i style="font-weight: normal; margin-left: 50%;">Credits</i> </th>


                   </tr>


              <div class="right-side" *ngIf="isDoneLoading"><br>

        <div *ngFor="let c of printedCourses; let i = index">
            <div *ngIf="courseIds[2*i] === courseIds[2*i+1]">

              <span><td class="courseNumber">{{ c.name }}{{c.number}}</td> <td class="courseTitle">{{c.title}}</td><td class="courseCredits">{{c.credits.toFixed(2)}}</td></span>
            </div>

            <div *ngIf="courseIds[2*i] != courseIds[2*i+1]">
                <span style="color:chartreuse">{{ c.name }} {{c.number}} {{c.title}} {{c.credits.toFixed(2)}}</span><br>
                <span style="color:red">{{ originalCourses[i].name }} {{originalCourses[i].number}} {{originalCourses[i].title}} {{originalCourses[i].credits.toFixed(2)}}</span>
            </div>
        </div>
    </div></tbody></table>


            </span>
            <br>
            <button mat-stroked-button color="primary" (click)="highlightChanges()">Highlight Changes</button>
            <br>
            <span><b>Rationale:</b></span>
            <br>
            <span>{{editedExtraModel.rationale}}</span>
            <div *ngIf="editedExtraModel.rationale == '' ">
              No rationale is available for this section.
            </div>
            <br>
            <span><b>Resource Implications:</b></span>
            <br>
            <span>{{editedExtraModel.implications}}</span>
            <div *ngIf="editedExtraModel.implications == '' ">
              No implication is available for this section.
            </div>
          </mat-card>
      </div>

      <app-support-documents [sectionId]="id" [target_type]="3"></app-support-documents>
      <button class="submitButton" mat-raised-button color="primary" (click)="submitForm()">Submit</button>



    </mat-card>
  </main>
  <footer class="hg__footer">
    <app-footer></app-footer>
  </footer>
</body>
